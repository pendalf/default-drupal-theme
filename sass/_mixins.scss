
  /* Mixins */

// @mixin font-face($fontFamily, $fontpath, $fontWeight: normal, $fontStyle: normal, $local: '') {
//   @if $local != '' {
//     $local: 'local("' + $local;
//     $local: $local + '"),';
//   }
//   font-family: $fontFamily;
//   src: url( $fontpath + '.eot');
//   src: unquote($local)
//        url( $fontpath + '.eot?#iefix') format('embedded-opentype'),
//        url( $fontpath + '.woff') format('woff'),
//        url( $fontpath + '.ttf') format('truetype');
//   font-weight: $fontWeight;
//   font-style: $fontStyle;
// }

@mixin box-sizing($box-sizing){
  -webkit-box-sizing: $box-sizing;
  -moz-box-sizing: $box-sizing;
  box-sizing: $box-sizing;
} 

@mixin box-shadow($box-shadow){
  -webkit-box-shadow: $box-shadow;
  -moz-box-shadow: $box-shadow;
  box-shadow: $box-shadow;
}

@mixin border-radius($radius: 5px){
  -webkit-border-radius: $radius;
  -moz-border-radius: $radius;
  border-radius: $radius;
}

@mixin transition-duration($time: 200ms){
  -moz-transition-duration: $time;
  -webkit-transition-duration: $time;
  -ms-transition-duration: $time;
  -o-transition-duration: $time;
  transition-duration: $time; 
}

@mixin transition($time: 200ms){
  -moz-transition: $time;
  -webkit-transition: $time;
  -ms-transition: $time;
  -o-transition: $time;
  transition: $time; 
}

@mixin opacity($opacity: 0){
  filter:progid:DXImageTransform.Microsoft.Alpha(opacity=#{$opacity*100});
  -moz-opacity: $opacity;
  -khtml-opacity: $opacity;
  opacity: $opacity;
}

@mixin transform($transform){
  -webkit-transform: $transform;
  -moz-transform: $transform;
  -ms-transform: $transform;
  -o-transform: $transform;
  transform: $transform;
}

@mixin appearance($appearance: none){
  -webkit-appearance: $appearance;
  -moz-appearance: $appearance;
  appearance: $appearance;
}

@mixin column-width($var: 100px) {
  -webkit-column-width: $var;
  -moz-column-width: $var;
  column-width: $var;
}
@mixin column-count($var: 1) {
  -webkit-column-count: $var;
  -moz-column-count: $var;
  column-count: $var;
}
@mixin column-gap($var: 30px) {
  -webkit-column-gap: $var;
  -moz-column-gap: $var;
  column-gap: $var;
}
@mixin column-gap($var: 1px solid #ccc) {
  -webkit-column-rule: $var;
  -moz-column-rule: $var;
  column-rule: $var;
}

@mixin respond-to($media, $min: false) {
  @if $media == handhelds {
    @media only screen and (max-width: $small) { @content; }
  }
  @else if $media == medium-screens {
    @media only screen and (min-width: $small + 1) and (max-width: $large - 1) { @content; }
  }
  @else if $media == wide-screens {
    @media only screen and (min-width: $large) { @content; }
  }
  @else if $min == true {
    @media only screen and (min-width: $media) { @content; }
  }
  @else if $min != false {
    @media only screen and (min-width: $min) and (max-width: $media) { @content; }
  }
  @else {
    @media only screen and (max-width: $media) { @content; }
  }
}

@mixin gradient($top, $bottom){
  background-image: -webkit-gradient(
    linear,
    left top,
    left bottom,
    color-stop(0, $top),
    color-stop(1, $bottom)
  );
  background-image: -o-linear-gradient(bottom, $top 0%, $bottom 100%);
  background-image: -moz-linear-gradient(bottom, $top 0%, $bottom 100%);
  background-image: -webkit-linear-gradient(bottom, $top 0%, $bottom 100%);
  background-image: -ms-linear-gradient(bottom, $top 0%, $bottom 100%);
  background-image: linear-gradient(to bottom, $top 0%, $bottom 100%);
}

@mixin row-builder( $el: '.row', $items: 12, $itemsWrapWidth: 1000, $itemsMargin: 10, $prefix: '') {

  $itemsWrapWidthT: $itemsWrapWidth + $itemsMargin;
  $itemsWidth     : $itemsWrapWidthT / $items;

  #{$el} { padding-top: 6*$crn; padding-bottom: 5*$crn; margin-left: -$itemsMargin / $itemsWrapWidth / 2 * 100%; margin-right: -$itemsMargin / $itemsWrapWidth / 2 * 100%; max-height: none; font-size: $fs14; width: $itemsWidth; overflow: hidden; font-size: 0; max-height: none;

    #{$el} { padding-top: 0; padding-bottom: 0;}  

    &__item { margin-left: $itemsMargin / $itemsWrapWidthT / 2 * 100%;  margin-right: $itemsMargin / $itemsWrapWidthT / 2 * 100%; padding: 5*$crn 0; max-height: none; display: inline-block; vertical-align: top;}

    @for $i from 1 through $items {

      &__#{$prefix}width-#{$i} { width: ($itemsWidth * $i - $itemsMargin) / $itemsWrapWidthT * 100%;}

    }
  }
}


@mixin siteCols-builder($siteCols, $breackpoint: 0) {

  $dim: 100%;
  $baseWidthContainer:     $baseWidth;

  // левая колонка
  $sidebarWidthFirst:      200;
  $sidebarPadFirst:        30;

  // Правая колонка
  $sidebarWidthSecond:     200;
  $sidebarPadSecond:       30;
  


  @if map-has-key($siteCols, firstWidth) {
    $sidebarWidthFirst: map-get($siteCols, firstWidth);
  }
  @if map-has-key($siteCols, secondWidth) {
    $sidebarWidthSecond: map-get($siteCols, secondWidth);
  }
  @if map-has-key($siteCols, firstPad) {
    $sidebarPadFirst: map-get($siteCols, firstPad);
  }
  @if map-has-key($siteCols, secondPad) {
    $sidebarPadSecond: map-get($siteCols, secondPad);
  }  
  @if map-has-key($siteCols, baseWidth) {
    $baseWidthContainer: map-get($siteCols, baseWidth);
  }

  $marginNegativeSecond:   0;
  $marginPositiveSecond:   0;
  $marginNegativeFirstWS:  0;
  $marginNegativeFirst:    0;
  $marginPositiveFirstWS:  0;
  $marginPositiveFirst:    0;
  $sidebarWidthDimFirst:   0;
  $sidebarWidthDimSecond:  0;
  $sidebarWidthDimFirstWS: 0; 

  @if $dim != 100% { 

    $marginNegativeFirst:  -($sidebarWidthFirst + $sidebarPadFirst)*$dim;
    $marginPositiveFirst:  ($sidebarWidthFirst + $sidebarPadFirst)*$dim;
    $sidebarWidthDimFirst: $sidebarWidthFirst*$dim;

    $marginNegativeSecond:  -($sidebarWidthSecond + $sidebarPadSecond)*$dim;
    $marginPositiveSecond:  ($sidebarWidthSecond + $sidebarPadSecond)*$dim;
    $sidebarWidthDimSecond: $sidebarWidthSecond*$dim;

  } @else {



    $factor: $dim / $baseWidthContainer;

    $marginNegativeSP: $sidebarWidthSecond + $sidebarPadSecond;

    $marginNegativeSecond:  -$marginNegativeSP*$factor;
    $marginPositiveSecond:  $marginNegativeSP*$factor;
    $sidebarWidthDimSecond: $sidebarWidthSecond*$factor;


    $marginNegativeFirst:  -$marginNegativeSP*$factor;
    $marginPositiveFirst:  $marginNegativeSP*$factor;
    $sidebarWidthDimFirst: $sidebarWidthSecond*$factor;

    $factor: $dim / ($baseWidthContainer - $marginNegativeSP);

    $marginNegativeFirstWS:  -($sidebarWidthFirst + $sidebarPadFirst)*$factor;
    $marginPositiveFirstWS:  ($sidebarWidthFirst + $sidebarPadFirst)*$factor;
    $sidebarWidthDimFirstWS: $sidebarWidthFirst*$factor;

  }

  #col_center_left_wrap { width:100%; position:relative; clear: both;

    .two-sidebars &,
    .sidebar-second & { float: left; margin-right: $marginNegativeSecond;

      @if $breackpoint != 0 {

        @include respond-to($breackpoint) { float: none; margin-right: 0;}
      }
    }
  }

  #col_center_left_wrap_inner {

    .two-sidebars &,
    .sidebar-second & { margin-right: $marginPositiveSecond; 

      @if $breackpoint != 0 {

        @include respond-to($breackpoint) { margin-right: 0;}
      }
    }
    .sidebar-second & { margin-left: 0;}

  }



  #col_center { width:100%;

    .two-sidebars &,
    .sidebar-first & { float: right; margin-left: $marginNegativeFirstWS;

      @if $breackpoint != 0 {

        @include respond-to($breackpoint) { float: none; margin-left: 0;}
      }
    }
    .sidebar-first & { float: right; margin-left: $marginNegativeFirst;

      @if $breackpoint != 0 {

        @include respond-to($breackpoint) { float: none; margin-left: 0;}
      }
    }
  }
  #col_center_inner { padding-top: 1px;

    .two-sidebars &,
    .sidebar-first & { margin-left: $marginPositiveFirstWS;

      @if $breackpoint != 0 {

        @include respond-to($breackpoint) { margin-left: 0;}
      }
    }
    .sidebar-first & { margin-left: $marginPositiveFirst; margin-right: 0;

      // @include respond-to($small) { margin-left: 0;}
    }
  }


  #sidebar-first,
  #sidebar-second { width: $sidebarWidthDimFirst; position:relative; float: left; 

    @if $breackpoint != 0 {

      @include respond-to($breackpoint) { width: auto; float: none; }
    }

    //   @extend %mobile-pad;
    // }
  }
  #sidebar-second { float: right; width: $sidebarWidthDimSecond;}

  .two-sidebars #sidebar-first { width: $sidebarWidthDimFirstWS;}
}